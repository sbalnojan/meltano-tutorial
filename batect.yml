containers:
  build-env:
    image: meltano/meltano:v2.11.0-python3.10 #v2.4.0-python3.8 
    working_directory: /home/container-user
    volumes:
      - local: ./new_project
        container: /new_project
        options: cached
tasks:
  melt:
    description: Open a shell in our cool meltano env to run some stuff. Make sure to launch_mock in a separate terminal tab!
    group: Do these tasks
    run:
      container: build-env
      entrypoint: sh

  clean:
    description: Delete meltano taps and so on to play around with the installation of plugins locally.
    group: Utility tasks
    run:
      container: build-env
      entrypoint: sh -c 'rm -rf .meltano/*'